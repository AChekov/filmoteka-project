var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire37c5;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire37c5=o),o("72Z32"),o("iZRpi"),o("fMtCK");var a=o("72Z32"),r=o("iZRpi"),i=(r=o("iZRpi"),o("fMtCK"));const u=new(0,(a=o("72Z32")).default),s={arrowLeft:document.querySelector("button[aria-label='previous-page'"),arrowRight:document.querySelector("button[aria-label='next-page'"),pagination:document.querySelector(".pagination"),firstButton:document.querySelector(".firstButton-and-threeDots"),lastButton:document.querySelector(".lastButton-and-threeDots"),filmsContainerIndex:document.querySelector(".js-films-list-index"),inputError:document.querySelector(".input__error")};let l,c=1;function f(t,e){if(c>l)return;c=t,l=e;let n=c-2,o=c+2;c!==l&&c+1!==l||(n=c-3,o=l),c+3===l&&(o=l),n<3&&(n=1,o=5),l<=5&&(n=c,o=l);for(let t=n;t<=o;t+=1)if(t===c){const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton active">${t}</button>`;s.pagination.insertAdjacentHTML("beforeend",e)}else{const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton">${t}</button>`;s.pagination.insertAdjacentHTML("beforeend",e)}if(n>=3){if(y())return;!function(){const t='<button id="paginationButton" data-page="1" class="button-page paginationButton">1</button>',e="<span class='page-buttons__first-points'>···</span>";s.firstButton.insertAdjacentHTML("beforeend",t),s.firstButton.insertAdjacentHTML("beforeend",e)}()}n<3&&y()&&(s.firstButton.innerHTML=""),c!==l&&c+1!==l&&c+2!==l&&c+3!==l?null===document.querySelector(".page-buttons__last-points")&&(!function(t){const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton">${t}</button>`,n="<span class='page-buttons__last-points'>···</span>";s.lastButton.insertAdjacentHTML("beforeend",n),s.lastButton.insertAdjacentHTML("beforeend",e)}(l),s.arrowLeft.onclick=g,s.arrowRight.onclick=b,s.pagination.onclick=h,s.firstButton.onclick=d,s.lastButton.onclick=p):s.lastButton.innerHTML=""}function d(t){"BUTTON"===t.target.nodeName&&(c=1,T())}function p(t){"BUTTON"===t.target.nodeName&&(c=l,T())}function g(){1!==c&&(c-=1,T())}function b(){c!==l&&(c+=1,T())}function m(){s.pagination.innerHTML="",s.firstButton.innerHTML="",s.lastButton.innerHTML=""}function h(t){t.preventDefault(),t.target!==t.currentTarget&&(c=Number(t.target.dataset.page),T())}function y(){return null!==document.querySelector(".page-buttons__first-points")}function B(t,e){u.query=t,u.page=e,u.fetchMoviesySearch().then((({results:t,total_pages:e})=>{0!==t.length?((0,i.default)(),(0,r.default)(t,s.filmsContainerIndex),m(),f(u.page,e)):s.inputError.textContent="Search result not successful. Enter the correct movie name and smile : )"}))}function T(){if(""===u.query)return u.page=c,u.fetchPopular().then((({results:t,total_pages:e})=>{(0,i.default)(),(0,r.default)(t,s.filmsContainerIndex),m(),f(u.page,e)})),void q();B(u.query,c),q()}function q(){window.scrollTo(pageXOffset,0)}const _=new(0,a.default),w=document.querySelector(".js-films-list-index");window.addEventListener("load",(function(){_.fetchPopular().then((({results:t,total_pages:e})=>{(0,r.default)(t,w),f(_.page,e)}))}));a=o("72Z32"),r=o("iZRpi"),i=o("fMtCK");const v=new(0,a.default),M=document.querySelector(".input__wraper"),S=document.querySelector(".input__error"),x=document.querySelector(".js-films-list-index");M.addEventListener("submit",(function(t){t.preventDefault(),v.query=t.currentTarget.searchQuery.value,v.resetPage(),S.textContent=" ",B(v.query,v.page),v.fetchMoviesySearch().then((({results:t,total_pages:e})=>{0!==t.length?((0,i.default)(),(0,r.default)(t,x)):S.textContent="Search result not successful. Enter the correct movie name and smile : )"})).catch((t=>console.log(t)))})),o("jxohN"),o("iZDtr"),o("2VTKf"),o("iiPHV"),o("cgPbV");
//# sourceMappingURL=index.be17366f.js.map
