{"mappings":"gfAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,aAGME,EAAa,IAAI,EAAAD,EAAAE,SACjBC,EAAsBC,SAASC,cAAc,wBAEnDC,OAAOC,iBAAiB,QAET,WACdN,EAAWO,eAAeC,MAAK,SAAAC,G,IAAGC,EAAOD,EAAPC,SACjC,EAAAC,EAAAV,SAAkBS,EAASR,SCV7BH,EAAAD,EAAA,S,aAAA,I,aAIMc,EAAa,IAAI,EAAAb,EAAAE,SAEjBY,EAAaV,SAASC,cAAc,kBACpCU,EAAsBX,SAASC,cAAc,wBAC7CW,EAAaZ,SAASC,cAAc,iBAC1CY,QAAQC,IAAIF,GAEZF,EAAWP,iBAAiB,UAc5B,SAAkBY,GAMhB,GALAA,EAAEC,iBAEFP,EAAWQ,MAAQF,EAAEG,cAAcC,SAASC,YAAYC,MACxDZ,EAAWa,YAEqB,IAA5Bb,EAAWQ,MAAMM,OAMnB,OALAX,EAAWY,YACT,uEACFC,YAAW,WACTzB,SAAS0B,SAASC,WACjB,KAGHf,EAAWY,YAAc,IACzBf,EAAWmB,qBAAqBvB,MAAK,SAAAC,G,IAAGC,EAAOD,EAAPC,SACtC,EAAAsB,EAAA/B,YACA,EAAAU,EAAAV,SAAkBS,EAASI,SCvCjC,IAAMmB,EAAO,CACXC,UAAW/B,SAASC,cAAc,qCAClC+B,WAAYhC,SAASC,cAAc,iCACnCgC,WAAYjC,SAASC,cAAc,eACnCiC,YAAalC,SAASC,cAAc,8BACpCkC,WAAYnC,SAASC,cAAc,8BAEjCmC,EAAa,EAoBjB,SAASC,IACP,IAAIC,EAAmBF,EAAa,EAChCG,EAAkBH,EAAa,EAC/BE,EAAmB,IACrBA,EAAmB,EACnBC,EAAkB,GAEpB,IAAK,IAAIC,EAAIF,EAAkBE,GAAKD,EAAiBC,GAAK,EACxD,GAAIA,IAAMJ,EAAY,CACpB,IAAMK,EAAa,4CAA8FC,OAAlDF,EAAE,kDAAkDE,OAAFF,EAAE,aACnHV,EAAKG,WAAWU,mBAAmB,YAAaF,OAC3C,CACL,IAAMG,EAAa,4CAAuFF,OAA3CF,EAAE,2CAA2CE,OAAFF,EAAE,aAC5GV,EAAKG,WAAWU,mBAAmB,YAAaC,GAIpD,GAAIN,GAAoB,EAAG,CACzB,GAAIO,IACF,OAIAf,EAAKI,YAAYS,mBAAmB,YAFf,+FAGrBb,EAAKI,YAAYS,mBAAmB,YAFjB,iDAKnBL,EAAmB,GAAKO,MAC1Bf,EAAKI,YAAYY,UAAY,IAkBjC,SAASC,IACPjB,EAAKG,WAAWa,UAAY,GAW9B,SAASD,IAEP,OAAoB,OADA7C,SAASC,cAAc,yBAM7CoC,IACAP,EAAKC,UAAU5B,iBAAiB,SAlChC,WACqB,IAAfiC,IAGJA,GAAc,EACdW,IACAV,QA6BFP,EAAKE,WAAW7B,iBAAiB,SA3BjC,WACEiC,GAAc,EACdW,IACAV,OAyBFP,EAAKG,WAAW9B,iBAAiB,SAlBjC,SAAuB6C,GACrBA,EAAMhC,iBACFgC,EAAMC,SAAWD,EAAM9B,gBAC3BkB,EAAac,OAAOF,EAAMC,OAAOE,QAAQC,MACzCL,IACAV,Q","sources":["src/index.js","src/js/js-partials/loadPage.js","src/js/js-partials/onSearch.js","src/js/js-partials/pagination.js"],"sourcesContent":["import './js/js-partials/API';\nimport './js/js-partials/appendFilmsMarkup';\nimport './js/js-partials/clearFilmsContainer';\nimport './js/js-partials/loadPage';\nimport './js/js-partials/onSearch';\nimport './js/js-partials/pagination';\nimport './js/js-partials/fetchMoviesByPages';\nimport './js/js-partials/teamModal';\nimport './js/js-partials/onButtonClick';\nimport './js/js-partials/openModalFilm';\nimport './js/js-partials/loader';\n\n\n\n\n\n\n\n\n","import ApiService from './API';\nimport appendFilmsMarkup from './appendFilmsMarkup';\n\nconst apiService = new ApiService();\nconst filmsContainerIndex = document.querySelector('.js-films-list-index');\n\nwindow.addEventListener('load', loadPage);\n\nexport default function loadPage () {\n\tapiService.fetchPopular().then(({ results }) => {\n\t\tappendFilmsMarkup(results, filmsContainerIndex);\n\t});\n}","import ApiService from \"./API\";\nimport appendFilmsMarkup from \"./appendFilmsMarkup\";\nimport clearFilmsContainer from \"./clearFilmsContainer\";\n\nconst apiService = new ApiService();\n\nconst searchForm = document.querySelector(\".input__wraper\");\nconst filmsContainerIndex = document.querySelector(\".js-films-list-index\");\nconst inputError = document.querySelector(\".input__error\");\nconsole.log(inputError);\n\nsearchForm.addEventListener(\"submit\", onSearch);\n\n// function onSearch(e) {\n//   e.preventDefault();\n\n//   apiService.query = e.currentTarget.elements.searchQuery.value;\n//   apiService.resetPage();\n\n//   apiService.fetchMoviesySearch().then(({ results }) => {\n//     clearFilmsContainer();\n//     appendFilmsMarkup(results, filmsContainerIndex);\n//   });\n// }\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  apiService.query = e.currentTarget.elements.searchQuery.value;\n  apiService.resetPage();\n\n  if (apiService.query.length === 0) {\n    inputError.textContent =\n      \"Search result not successful. Enter the correct movie name and \";\n    setTimeout(() => {\n      document.location.reload();\n    }, 2000);\n    return;\n  } else {\n    inputError.textContent = \" \";\n    apiService.fetchMoviesySearch().then(({ results }) => {\n      clearFilmsContainer();\n      appendFilmsMarkup(results, filmsContainerIndex);\n    });\n  }\n}\n","// fetch(\n//   `https://api.themoviedb.org/3/movie/550?api_key=7cb8097836a7a1f4e5c19953961668c8`\n// ).then(response => response.json());\nconst refs = {\n  arrowLeft: document.querySelector(\"button[aria-label='previous-page'\"),\n  arrowRight: document.querySelector(\"button[aria-label='next-page'\"),\n  pagination: document.querySelector(\".pagination\"),\n  firstButton: document.querySelector(\".firstButton-and-threeDots\"),\n  lastButton: document.querySelector(\".lastButton-and-threeDots\"),\n};\nlet pageNumber = 1;\n// const pageButtons = document.querySelector(\"button[aria-label='next-page'\");\n// function getNumberOfPages(data) {\n//   const numberOfPages = data.totalPages;\n//   return numberOfPages;\n// }\n// function handleClickPage(event) {\n//   if (event.target === event.currentTarget) return;\n//   const { page } = event.target.dataset;\n//   const currentPage = page;\n// }\n// function renderButtons(numberOfPages) {\n//   pageButtons.innerHTML = \"\";\n// }\n\n// const buttonPoints = document.querySelectorAll(\".hidden-in-mobile\");\n// buttonPoints.forEach(button => {\n//   button.classList.add(\"visually-hidden\");\n// });\n\nfunction renderButtons() {\n  let beforeActivePage = pageNumber - 2;\n  let afterActivePage = pageNumber + 2;\n  if (beforeActivePage < 3) {\n    beforeActivePage = 1;\n    afterActivePage = 5;\n  }\n  for (let i = beforeActivePage; i <= afterActivePage; i += 1) {\n    if (i === pageNumber) {\n      const pageButton = `<button id=\"paginationButton\" data-page=\"${i}\" class=\"button-page paginationButton active\">${i}</button>`;\n      refs.pagination.insertAdjacentHTML(\"beforeend\", pageButton);\n    } else {\n      const pageButton = `<button id=\"paginationButton\" data-page=\"${i}\" class=\"button-page paginationButton\">${i}</button>`;\n      refs.pagination.insertAdjacentHTML(\"beforeend\", pageButton);\n    }\n  }\n\n  if (beforeActivePage >= 3) {\n    if (isThreeDots()) {\n      return;\n    } else {\n      const firstButton = `<button id=\"paginationButton\" data-page=\"1\" class=\"button-page paginationButton\">1</button>`;\n      const threeDots = `<span class='page-buttons__points'>···</span>`;\n      refs.firstButton.insertAdjacentHTML(\"beforeend\", firstButton);\n      refs.firstButton.insertAdjacentHTML(\"beforeend\", threeDots);\n    }\n  }\n  if (beforeActivePage < 3 && isThreeDots()) {\n    refs.firstButton.innerHTML = \"\";\n  }\n}\n\nfunction onClickArrowLeft() {\n  if (pageNumber === 1) {\n    return;\n  }\n  pageNumber -= 1;\n  resetButtons();\n  renderButtons();\n}\nfunction onClickArrowRight() {\n  pageNumber += 1;\n  resetButtons();\n  renderButtons();\n}\n\nfunction resetButtons() {\n  refs.pagination.innerHTML = \"\";\n}\n\nfunction onClickButton(event) {\n  event.preventDefault();\n  if (event.target === event.currentTarget) return;\n  pageNumber = Number(event.target.dataset.page);\n  resetButtons();\n  renderButtons();\n}\n\nfunction isThreeDots() {\n  const isThreeDots = document.querySelector(\".page-buttons__points\");\n  if (isThreeDots === null) {\n    return false;\n  }\n  return true;\n}\nrenderButtons();\nrefs.arrowLeft.addEventListener(\"click\", onClickArrowLeft);\nrefs.arrowRight.addEventListener(\"click\", onClickArrowRight);\nrefs.pagination.addEventListener(\"click\", onClickButton);\n"],"names":["parcelRequire","$l7OcW","$6659fec5f74257cc$var$apiService","default","$6659fec5f74257cc$var$filmsContainerIndex","document","querySelector","window","addEventListener","fetchPopular","then","param","results","$kXDXL","$b0ceaf9131d2c62a$var$apiService","$b0ceaf9131d2c62a$var$searchForm","$b0ceaf9131d2c62a$var$filmsContainerIndex","$b0ceaf9131d2c62a$var$inputError","console","log","e","preventDefault","query","currentTarget","elements","searchQuery","value","resetPage","length","textContent","setTimeout","location","reload","fetchMoviesySearch","$dDwfd","$bcd54f71f55c47f8$var$refs","arrowLeft","arrowRight","pagination","firstButton","lastButton","$bcd54f71f55c47f8$var$pageNumber","$bcd54f71f55c47f8$var$renderButtons","beforeActivePage","afterActivePage","i","pageButton","concat","insertAdjacentHTML","pageButton1","$bcd54f71f55c47f8$var$isThreeDots","innerHTML","$bcd54f71f55c47f8$var$resetButtons","event","target","Number","dataset","page"],"version":3,"file":"index.fa86c186.js.map"}