{"mappings":"iiBAGAA,EAAA,SCHA,IAAAC,EAAAD,EAAA,S,aCCIE,EAAAF,EAAA,SAkCAG,EAjCyBC,E,YAAWC,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,qCACHJ,QAA8J,KAAtJP,EAAgH,OAArGA,EAASS,EAAeZ,EAAQ,QAAoB,MAAVD,EAAiBa,EAAeb,EAAO,MAAQA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,KAAKC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAASrB,GAC1S,6HACAO,QAAgK,KAAxJP,EAAkH,OAAvGA,EAASS,EAAeZ,EAAQ,SAAqB,MAAVD,EAAiBa,EAAeb,EAAO,OAASA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,MAAMC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAASrB,GAC7S,UACAO,QAAoK,KAA5JP,EAAsH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,QAAQC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAASrB,GACnT,wGACAO,QAAoK,KAA5JP,EAAsH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,QAAQC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GACrT,6DACAO,QAAoK,KAA5JP,EAAsH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,QAAQC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GACrT,4BACAO,QAAgL,KAAxKP,EAAkI,OAAvHA,EAASS,EAAeZ,EAAQ,iBAA6B,MAAVD,EAAiBa,EAAeb,EAAO,eAAiBA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,cAAcC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GACvU,wCACAO,QAAkK,KAA1JP,EAAoH,OAAzGA,EAASS,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBI,EAASG,GAAsB,YAAbV,EAAAF,EAAA,CAAOS,MAAWM,EAASN,EAAOe,KAAKd,EAAO,CAACe,KAAO,OAAOC,KAAO,GAAGlB,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAASrB,GAClT,kEACJuB,SAAW,CAAC,EAAE,YAAYC,KAAO,SAAS7B,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAI0B,EAON,OAA+R,OAAtRA,GAPsB9B,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAACoB,KAAO,OAAOC,KAAO,GAAGS,GAAK/B,EAAUgC,QAAQ,EAAG5B,EAAM,GAAG6B,QAAUjC,EAAUkC,KAAK9B,KAAOA,EAAKmB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAiBI,EAAS,IAC/SK,SAAU,I,mED9BNC,EAAiBC,SAASC,cAAc,qBACxCC,EAAUF,SAASC,cAAc,0BAEjCE,EAAaH,SAASC,cAAc,yBACtCG,EAAa,GAEjBC,OAAOC,iBAAiB,OAAQC,GAChCJ,EAAWG,iBAAiB,QAASC,GACrC,IAAMC,GAAc,EAAAC,EAAAC,MAAK,oBAEzB,SAASH,EAAcI,GACrB,IAAMC,GAAc,EAAAH,EAAAC,MAAK,oBACzB,QAAoBG,IAAhBD,GAAoD,IAAvBA,EAAYE,OAQ3C,OAPAf,EAAegB,UAAY,GAC3BC,gBAAmB,wSAKnBjB,EAAekB,mBAAmB,YAAaD,iBAG/CE,EAAWN,GAIR,SAASM,EAAWC,GACzB,IAAMC,EAAaD,EAAME,KAAI,SAAAC,GAI3B,OAHAA,EAAKC,MAAMT,QAAU,EAChBQ,EAAKC,MAAQD,EAAKC,MAAMC,KAAK,MAC7BF,EAAKC,MAAQ,CAACD,EAAKC,MAAM,GAAID,EAAKC,MAAM,GAAI,SAASC,KAAK,MACxDF,KAETpB,EAAQa,UAAY,GACpBb,EAAQe,mBAAmB,YAAazD,EAAS4D,IAQ/BK,EAAAC,QAAZC,Q,SAQOC,I,OAAAA,EAAfnE,EAAAH,EAAA,CAAAG,EAAAoE,GAAAC,MAAA,SAAAC,EAA2BpB,G,IAMfqB,EAIAC,EACAC,EAIAC,EAIAC,EACAC,EAKDC,E,kEAATA,EAAA,SAAqBC,G,IACnBC,EADmBD,EACnBC,GACAC,EAFmBF,EAEnBE,IACAC,EAHmBH,EAGnBG,MACAC,EAJmBJ,EAInBI,WACAC,EALmBL,EAKnBK,KACAC,EANmBN,EAMnBM,MACAC,EAPmBP,EAOnBO,MACAvB,EARmBgB,EAQnBhB,MAEMwB,EAAQC,EAAAC,OACZ,sUAaiEC,OAHtDT,EAAI,wHAQiBS,OALiCV,EAAG,oVAeVU,OAV1BR,EAAM,+iBAWqBQ,OADDN,EAAK,8EAGhBM,OAFYL,EAAM,qFAGkBK,OADpCP,EAAW,kGAEXO,OADoCR,EAAM,8DAO/EQ,OANqC3B,EAAM,8MASN2B,OAHrCJ,EAAM,6FAGkCI,OAAHV,EAAG,6KAOlD,CACEW,OAAQ,SAAAC,GACN/C,OAAOC,iBAAiB,UAAW+C,GACnChD,OAAOC,iBAAiB,QAASgD,GACjCF,EAAMG,UAAUtD,cAAc,iBAAiBuD,QAAUJ,EAAMK,OAEjEC,QAAS,SAAAN,GACP/C,OAAOsD,oBAAoB,UAAWN,GACtChD,OAAOsD,oBAAoB,QAASL,MAK1C,SAASD,EAAoBO,GACR,WAAfA,EAAMC,OACHd,EAAMQ,UAAUO,UAAUC,SAAS,oBACtChB,EAAMU,SAKZ,SAASH,EAAmBM,GAEW,+BAAjCA,EAAMI,OAAOF,UAAUG,OACzBlB,EAAMU,QAIVV,EAAMmB,QAhHRvD,EAAEwD,iBAGwB,QAAtBxD,EAAEqD,OAAOI,UAA4C,OAAtBzD,EAAEqD,OAAOI,WAChB,QAAtBzD,EAAEqD,OAAOI,WACLpC,EAAKqC,OACT1D,EAAEqD,OAAOM,cAAcA,cAAcA,cAAcC,QAAQ/B,IAGvDP,GAAa,EAAAxB,EAAAC,MAAK,oBAClBwB,EAAUD,EAAWuC,MAAK,SAAAjB,G,OAAWA,EAAQf,KAAOR,KAC1DM,EAAYJ,IAEY,MAAtBvB,EAAEqD,OAAOI,WACLjC,EAAKkC,OACT1D,EAAEqD,OAAOM,cAAcA,cAAcA,cAAcC,QAAQ/B,IAGvDJ,GAAa,EAAA3B,EAAAC,MAAK,oBAClB2B,EAAUD,EAAWoC,MAAK,SAAAjB,G,OAAWA,EAAQf,KAAOL,KAC1DG,EAAYD,MA+FhB,EAAAoC,EAAAC,eAEuB1E,SAASC,cAAc,qBAC/BK,iBAAiB,QAASqE,G,4CAvHjBC,MAAAC,KAAAC,WA2H1B,SAASH,EAAuBf,GAC9B,IAAImB,EACJ3E,EAAW4E,KAAKxE,GAChBJ,EAAW6E,SAAQ,SAAA1C,EAAS2C,G,OAAJ3C,EAAFC,MAAoB,EAAA/B,EAAAC,MAAM,oBAAmB8B,GAAMuC,EAAQG,EAAKA,KACtF9E,EAAW+E,OAAOJ,EAAO,IACvB,EAAAtE,EAAA2E,MAAM,mBAAmBhF,GACzBG,IACA8E,QAAQC,IAAI1B,EAAMI,QAClBZ,MAAMK,SAzIE,CACV8B,cAAevF,SAASC,cAAc,uBAGpCsF,cAAcjF,iBAAiB,S,SAERK,G,OAAZiB,EAAWgD,MAAAC,KAAAC,cErD1BxH,EAAAD,EAAA,S,8EAKgB2C,SAASC,cAAc,0BALvC,IAMMuF,EAAWxF,SAASC,cAAc,uBAElCwF,GADazF,SAASC,cAAc,yBACnBD,SAASC,cAAc,sBAC1CyF,EAAW,GAIf,SAASC,IACP,IAAMC,GAAY,EAAAnF,EAAAC,MAAK,kBAEvB,QAAkBG,IAAd+E,GAAgD,IAArBA,EAAU9E,OASzC,OAREuE,QAAQC,IAAI,IACZG,EAAe1E,UAAY,GAC3BC,gBAAmB,sSAKnByE,EAAexE,mBAAmB,YAAaD,iBAG/CE,EAAW0E,GAhBfJ,EAASlF,iBAAiB,QAASqF,GAwBflE,EAAAC,QAAZC,Q,SAQOkE,I,OAAAA,EAAfpI,EAAAH,EAAA,CAAAG,EAAAoE,GAAAC,MAAA,SAAAC,EAA2BpB,G,IAMfqB,EAKAC,EAEAC,EAKAC,EAEAC,EACAC,EAMDyD,E,kEAATA,EAAA,SAA0BvD,G,IACxBC,EADwBD,EACxBC,GACAC,EAFwBF,EAExBE,IACAC,EAHwBH,EAGxBG,MACAC,EAJwBJ,EAIxBI,WACAC,EALwBL,EAKxBK,KACAC,EANwBN,EAMxBM,MACAC,EAPwBP,EAOxBO,MACAvB,EARwBgB,EAQxBhB,MAEMwB,EAAQC,EAAAC,OACZ,sUAaiEC,OAHtDT,EAAI,wHAQiBS,OALiCV,EAAG,oVAeVU,OAV1BR,EAAM,+iBAWqBQ,OADDN,EAAK,8EAGhBM,OAFYL,EAAM,qFAGkBK,OADpCP,EAAW,kGAEXO,OADoCR,EAAM,8DAO/EQ,OANqC3B,EAAM,8MASN2B,OAHrCJ,EAAM,6FAGkCI,OAAHV,EAAG,6JAOlD,CACEW,OAAQ,SAAAC,GACN/C,OAAOC,iBAAiB,UAAW+C,GACnChD,OAAOC,iBAAiB,QAASgD,GACjCF,EAAMG,UAAUtD,cAAc,iBAAiBuD,QAAUJ,EAAMK,OAEjEC,QAAS,SAAAN,GACP/C,OAAOsD,oBAAoB,UAAWN,GACtChD,OAAOsD,oBAAoB,QAASL,MAK1C,SAASD,EAAoBO,GACR,WAAfA,EAAMC,MACRd,EAAMU,QAIV,SAASH,EAAmBM,GAEW,+BAAjCA,EAAMI,OAAOF,UAAUG,OACzBlB,EAAMU,QAIVV,EAAMmB,QAhHRvD,EAAEwD,iBAGwB,QAAtBxD,EAAEqD,OAAOI,UAA4C,OAAtBzD,EAAEqD,OAAOI,WAChB,QAAtBzD,EAAEqD,OAAOI,WACLpC,EAAKqC,OACT1D,EAAEqD,OAAOM,cAAcA,cAAcA,cAAcC,QAAQ/B,IAIvDP,GAAa,EAAAxB,EAAAC,MAAK,kBACxB2E,QAAQC,IAAIrD,GACNC,EAAUD,EAAWuC,MAAK,SAAAjB,G,OAAWA,EAAQf,KAAOR,KAC1DqD,QAAQC,IAAIpD,GACZ4D,EAAiB5D,IAEO,MAAtBvB,EAAEqD,OAAOI,WACLjC,EAAKxB,EAAEqD,OAAOM,cAAcA,cAAcA,cAAcC,QAAQ/B,GAEhEJ,GAAa,EAAA3B,EAAAC,MAAK,kBAClB2B,EAAUD,EAAWoC,MAAK,SAAAjB,G,OAAWA,EAAQf,KAAOL,KAC1DkD,QAAQC,IAAIjD,GACZyD,EAAiBzD,MA6FrB,EAAAoC,EAAAC,eAEuB1E,SAASC,cAAc,qBAC/BK,iBAAiB,QAASyF,G,4CAvHjBnB,MAAAC,KAAAC,WA2H1B,SAASiB,EAAuBnC,GAC9B,IAAImB,EACJW,EAASV,MAAK,EAAAvE,EAAAC,MAAK,mBACnBgF,EAAST,SAAQ,SAAA1C,EAAS2C,G,OAAJ3C,EAAFC,MAAoB,EAAA/B,EAAAC,MAAM,oBAAmB8B,GAAMuC,EAAQG,EAAKA,KACpFQ,EAASP,OAAOJ,EAAO,IACrB,EAAAtE,EAAA2E,MAAM,iBAAiBM,GACvBC,IACAN,QAAQC,IAAI1B,EAAMI,QAClBZ,MAAMK,SAzIE,CACV8B,cAAevF,SAASC,cAAc,uBAGpCsF,cAAcjF,iBAAiB,S,SAERK,G,OAAZkF,EAAWjB,MAAAC,KAAAC,c,WC5C1B,IAAMkB,EAAoBhG,SAASC,cAAc,yBAC3CgG,EAAkBjG,SAASC,cAAc,uBAEvBD,SAASC,cAAc,iBAE/BK,iBAAiB,SAEjC,SAA6B4F,GACzB,GAA4B,WAAxBA,EAAIlC,OAAOI,SACX,OAGJ,GAAI8B,EAAIlC,OAAOF,UAAUC,SAAS,wBAG9B,OAFAiC,EAAkBlC,UAAUqC,IAAI,kBAChCF,EAAgBnC,UAAUsC,OAAO,aAInC,GAAIF,EAAIlC,OAAOF,UAAUC,SAAS,sBAGhC,OAFAiC,EAAkBlC,UAAUsC,OAAO,kBACnCH,EAAgBnC,UAAUqC,IAAI,gB","sources":["src/library.js","src/js/js-partials/renderWatchedList.js","src/templates/library-films.hbs","src/js/js-partials/renderQueueList.js","src/js/js-partials/onLibraryBtnsClick.js"],"sourcesContent":["// import './js/js-partials/API';\n// import './js/js-partials/appendFilmsMarkup';\n// import './js/js-partials/clearFilmsContainer';\nimport './js/js-partials/teamModal';\nimport './js/js-partials/renderWatchedList';\nimport './js/js-partials/renderQueueList';\n// import './js/js-partials/openModalFilm';\nimport './js/js-partials/loader';\nimport './js/js-partials//onLibraryBtnsClick';\nimport \"./js/js-partials/theme\";\nimport \"./js/js-partials/button-up\";","import filmCard from \"../../templates/library-films.hbs\";\nimport { save , load } from \"./onButtonClick\";\nimport * as basicLightbox from \"basiclightbox\";\n\nconst filmsContainer = document.querySelector(\".films__container\");\nconst library = document.querySelector(\".js-films-list-library\");\n// const queueBtn = document.querySelector(\".library__queue-btn\");\nconst watchedBtn = document.querySelector(\".library__watched-btn\");\nlet newWatched = [];\n\nwindow.addEventListener(\"load\", renderWatched);\nwatchedBtn.addEventListener(\"click\", renderWatched);\nconst loadWatched = load(\"allWatchedMovies\");\n\nfunction renderWatched(e) {\n  const loadWatched = load(\"allWatchedMovies\");\n  if (loadWatched === undefined || loadWatched.length === 0) {\n    filmsContainer.innerHTML = \"\";\n    emptyLibraryImg = `<div>\n      <img class=\"empty-library-img\" src=\"https://images.everyeye.it/img-notizie/pulp-fiction-cosa-vincent-vega-amsterdam-scopriamolo-insieme-v4-465501-1280x960.jpg\" alt=\"empty-img\">\n    </div>\n    <p class=\"empty-library-text\">Vincent can't find your watched films :(</p>\n    `;\n    filmsContainer.insertAdjacentHTML(\"beforeend\", emptyLibraryImg);\n    return;\n  } else {\n    appendFilm(loadWatched);\n  }\n}\n\nexport function appendFilm(films) {\n  const normalObjs = films.map(film => {\n    film.genre.length <= 3\n      ? (film.genre = film.genre.join(\", \"))\n      : (film.genre = [film.genre[0], film.genre[1], \"Other\"].join(\", \"));\n    return film;\n  });\n  library.innerHTML = \"\";\n  library.insertAdjacentHTML(\"beforeend\", filmCard(normalObjs));\n}\n\n// --------РЕНДЕР МОДАЛКИ-------\n\nimport * as basicLightbox from \"basiclightbox\";\nimport settings from \"./settings\";\nimport { addListener } from \"./trailer\";\nconst { IMG_URL } = settings;\n\nconst ref = {\n  cardContainer: document.querySelector(\".films__container\"),\n};\n\nref.cardContainer.addEventListener(\"click\", onClickCard);\n\nasync function onClickCard(e) {\n  e.preventDefault();\n\n  // console.log(e.target);\n  if (e.target.nodeName !== \"DIV\" && e.target.nodeName !== \"UL\") {\n    if (e.target.nodeName === \"IMG\") {\n      const id = Number(\n        e.target.parentElement.parentElement.parentElement.dataset.id\n      );\n      // console.log(e.target.parentElement.parentElement.parentElement);\n      const allDetails = load(\"allWatchedMovies\");\n      const details = allDetails.find(element => element.id === id);\n      renderModal(details);\n    }\n    if (e.target.nodeName === \"P\") {\n      const id = Number(\n        e.target.parentElement.parentElement.parentElement.dataset.id\n        );\n      // console.log(e.target.parentElement.parentElement.parentElement);\n      const allDetails = load(\"allWatchedMovies\");\n      const details = allDetails.find(element => element.id === id);\n      renderModal(details);\n    }\n  }\n\n  function renderModal({\n    id,\n    img,\n    title,\n    popularity,\n    vote,\n    votes,\n    about,\n    genre,\n  }) {\n    const modal = basicLightbox.create(\n      `\n    <div class=\"modal__container\">\n      <div class=\"modal__close\">\n        <div class=\"modal__close-first\"></div>\n        <div class=\"modal__close-second\"></div>\n      </div>\n      <div class=\"modal-wrap\">\n        <div class=\"modal__picture-wrap\">\n          <img\n          class=\"modal__picture\"\n          src=\"${img}\"\n          alt=\"film-picture\"\n          />\n          <button class=\"modal__button-play trailer-button\" data-id=\"${id}\">\n            <img class=\"modal__img-play\" src=\"https://www.freepnglogos.com/uploads/play-button-png/play-button-file-youtube-play-buttom-icon-svg-wikimedia-commons-27.png\" alt=\"play trailer\" width=\"100\" height=\"100\" />\n\t\t\t\t\t</button>\n        </div>\n        <div class=\"modal__desc-wrap\">\n          <h2 class=\"modal-heading\">${title}</h2>\n          <div class=\"modal__rating-wrap\">\n            <ul class=\"modal__rating-left-list\">\n              <li class=\"modal__rating-left-item\">Vote / Votes</li>\n              <li class=\"modal__rating-left-item\">Popularity</li>\n              <li class=\"modal__rating-left-item\">Original Title</li>\n              <li class=\"modal__rating-left-item\">Genre</li>\n            </ul>\n            <ul class=\"modal__rating-right-list\">\n              <li class=\"modal__rating-right-item\">\n                <span class=\"modal__rating-right-item--color\">${vote}</span> /\n                <span class=\"modal__rating-right-item--shadow\">${votes}</span>\n              </li>\n              <li class=\"modal__rating-right-item\">${popularity}</li>\n              <li class=\"modal__rating-right-item modal__rating-right-item--uppercase\">${title}</li>\n              <li class=\"modal__rating-right-item\">${genre}</li>\n            </ul>\n          </div>\n          <div class=\"modal__content-wrap\">\n            <h4 class=\"modal__content-heading\">About</h4>\n            <p class=\"modal__content\">\n              ${about}\n            </p>\n          </div>\n          <div class=\"modal__button-wrap\" data-id=\"${id}\">\n            <button class=\"modal__button btn-remove-watch\" type=\"button\">remove from Watched</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n      {\n        onShow: modal => {\n          window.addEventListener(\"keydown\", escapeKeyCloseModal);\n          window.addEventListener(\"click\", clickForCloseModal);\n          modal.element().querySelector(\".modal__close\").onclick = modal.close;\n        },\n        onClose: modal => {\n          window.removeEventListener(\"keydown\", escapeKeyCloseModal);\n          window.removeEventListener(\"click\", clickForCloseModal);\n        },\n      }\n    );\n\n    function escapeKeyCloseModal(event) {\n      if (event.code === \"Escape\") {\n        if (!modal.element().classList.contains(\"visually-hidden\")) {\n          modal.close();\n        }\n      }\n    }\n\n    function clickForCloseModal(event) {\n      // console.log(event.target.classList.value);\n      if (event.target.classList.value === \"basicLightbox__placeholder\") {\n        modal.close();\n      }\n    }\n\n    modal.show();\n  }\n\n  addListener();\n\n  const removeWatchBtn = document.querySelector('.btn-remove-watch');\n  removeWatchBtn.addEventListener('click', onRemoveWatchBtnClick);\n}\n\n// ==========УДАЛЕНИЕ ИЗ БИБЛИОТЕКИ============\nfunction onRemoveWatchBtnClick (event) {\n  let index;\n  newWatched.push(loadWatched);\n  newWatched.forEach(({ id }, i) => (id === load(`allWatchedMovies`).id ? (index = i) : i));\n  newWatched.splice(index, 1);\n    save(`allWatchedMovies`, newWatched);\n    renderWatched();\n    console.log(event.target);\n    modal.close();\n};","{{#each this}}\n  <li class=\"films__item\" data-id={{id}}>\n\n    <a href=\"\" class=\"films__wrapper\">\n      <div class=\"films__img-wrapper\">\n        <img class=\"films__img\" src=\"{{img}}\" alt=\"{{title}}\" loading=\"lazy\" />\n      </div>\n\n      <div class=\"films__info\">\n        <p class=\"films__name\">{{title}}</p>\n\n        <p class=\"films__description\">\n          {{genre}}\n          |\n          {{releaseDate}}<span class=\"rating-on-library-card\">{{vote}}</span>\n        </p>\n      </div>\n    </a>\n    \n  </li>\n{{/each}}","// import filmCard from \"../../templates/library-films.hbs\";\nimport { appendFilm } from \"./renderWatchedList\";\nimport { save , load } from \"./onButtonClick\";\nimport * as basicLightbox from \"basiclightbox\";\n\n\nconst library = document.querySelector(\".js-films-list-library\");\nconst queueBtn = document.querySelector(\".library__queue-btn\");\nconst watchedBtn = document.querySelector(\".library__watched-btn\");\nconst filmsContainer = document.querySelector(\".films__container\");\nlet newQueue = [];\n\nqueueBtn.addEventListener(\"click\", onQueueBtnClick);\n\nfunction onQueueBtnClick() {\n  const loadQueue = load(\"allQueueMovies\");\n\n  if (loadQueue === undefined || loadQueue.length === 0) {\n    console.log(12);\n    filmsContainer.innerHTML = \"\";\n    emptyLibraryImg = `<div>\n      <img class=\"empty-library-img\" src=\"https://images.everyeye.it/img-notizie/pulp-fiction-cosa-vincent-vega-amsterdam-scopriamolo-insieme-v4-465501-1280x960.jpg\" alt=\"empty-img\">\n    </div>\n    <p class=\"empty-library-text\">Vincent can't find your queue films :(</p>\n    `;\n    filmsContainer.insertAdjacentHTML(\"beforeend\", emptyLibraryImg);\n  return;\n} else {\n    appendFilm(loadQueue);}\n}\n\n// ==============РЕНДЕР МОДАЛКИ================\n\nimport * as basicLightbox from \"basiclightbox\";\nimport settings from \"./settings\";\nimport { addListener } from \"./trailer\";\nconst { IMG_URL } = settings;\n\nconst ref = {\n  cardContainer: document.querySelector(\".films__container\"),\n};\n\nref.cardContainer.addEventListener(\"click\", onClickCard);\n\nasync function onClickCard(e) {\n  e.preventDefault();\n\n  // console.log(e.target);\n  if (e.target.nodeName !== \"DIV\" && e.target.nodeName !== \"UL\") {\n    if (e.target.nodeName === \"IMG\") {\n      const id = Number(\n        e.target.parentElement.parentElement.parentElement.dataset.id\n      );\n      // console.log(id);\n      // console.log(e.target.parentElement.parentElement.parentElement);\n      const allDetails = load(\"allQueueMovies\");\n      console.log(allDetails);\n      const details = allDetails.find(element => element.id === id);\n      console.log(details);\n      renderModalQueue(details);\n    }\n    if (e.target.nodeName === \"P\") {\n      const id = e.target.parentElement.parentElement.parentElement.dataset.id;\n      // console.log(e.target.parentElement.parentElement.parentElement);\n      const allDetails = load(\"allQueueMovies\");\n      const details = allDetails.find(element => element.id === id);\n      console.log(details);\n      renderModalQueue(details);\n    }\n  }\n\n  function renderModalQueue({\n    id,\n    img,\n    title,\n    popularity,\n    vote,\n    votes,\n    about,\n    genre,\n  }) {\n    const modal = basicLightbox.create(\n      `\n    <div class=\"modal__container\">\n      <div class=\"modal__close\">\n        <div class=\"modal__close-first\"></div>\n        <div class=\"modal__close-second\"></div>\n      </div>\n      <div class=\"modal-wrap\">\n        <div class=\"modal__picture-wrap\">\n          <img\n          class=\"modal__picture\"\n          src=\"${img}\"\n          alt=\"film-picture\"\n          />\n          <button class=\"modal__button-play trailer-button\" data-id=\"${id}\">\n            <img class=\"modal__img-play\" src=\"https://www.freepnglogos.com/uploads/play-button-png/play-button-file-youtube-play-buttom-icon-svg-wikimedia-commons-27.png\" alt=\"play trailer\" width=\"100\" height=\"100\" />\n\t\t\t\t\t</button>\n        </div>\n        <div class=\"modal__desc-wrap\">\n          <h2 class=\"modal-heading\">${title}</h2>\n          <div class=\"modal__rating-wrap\">\n            <ul class=\"modal__rating-left-list\">\n              <li class=\"modal__rating-left-item\">Vote / Votes</li>\n              <li class=\"modal__rating-left-item\">Popularity</li>\n              <li class=\"modal__rating-left-item\">Original Title</li>\n              <li class=\"modal__rating-left-item\">Genre</li>\n            </ul>\n            <ul class=\"modal__rating-right-list\">\n              <li class=\"modal__rating-right-item\">\n                <span class=\"modal__rating-right-item--color\">${vote}</span> /\n                <span class=\"modal__rating-right-item--shadow\">${votes}</span>\n              </li>\n              <li class=\"modal__rating-right-item\">${popularity}</li>\n              <li class=\"modal__rating-right-item modal__rating-right-item--uppercase\">${title}</li>\n              <li class=\"modal__rating-right-item\">${genre}</li>\n            </ul>\n          </div>\n          <div class=\"modal__content-wrap\">\n            <h4 class=\"modal__content-heading\">About</h4>\n            <p class=\"modal__content\">\n              ${about}\n            </p>\n          </div>\n          <div class=\"modal__button-wrap\" data-id=\"${id}\">\n            <button class=\"modal__button btn-remove-queue\">remove from Queue</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n      {\n        onShow: modal => {\n          window.addEventListener(\"keydown\", escapeKeyCloseModal);\n          window.addEventListener(\"click\", clickForCloseModal);\n          modal.element().querySelector(\".modal__close\").onclick = modal.close;\n        },\n        onClose: modal => {\n          window.removeEventListener(\"keydown\", escapeKeyCloseModal);\n          window.removeEventListener(\"click\", clickForCloseModal);\n        },\n      }\n    );\n\n    function escapeKeyCloseModal(event) {\n      if (event.code === \"Escape\") {\n        modal.close();\n      }\n    }\n\n    function clickForCloseModal(event) {\n      // console.log(event.target.classList.value);\n      if (event.target.classList.value === \"basicLightbox__placeholder\") {\n        modal.close();\n      }\n    }\n\n    modal.show();\n  }\n\n  addListener();\n\n  const removeQueueBtn = document.querySelector('.btn-remove-queue');\n  removeQueueBtn.addEventListener('click', onRemoveQueueBtnClick);\n}\n\n// ==========УДАЛЕНИЕ ИЗ БИБЛИОТЕКИ============\nfunction onRemoveQueueBtnClick (event) {\n  let index;\n  newQueue.push(load(\"allQueueMovies\"));\n  newQueue.forEach(({ id }, i) => (id === load(`allWatchedMovies`).id ? (index = i) : i));\n  newQueue.splice(index, 1);\n    save(`allQueueMovies`, newQueue);\n    onQueueBtnClick();\n    console.log(event.target);\n    modal.close();\n};\n","const libraryWatchedBtn = document.querySelector(\".library__watched-btn\");\nconst libraryQueueBtn = document.querySelector(\".library__queue-btn\");\n\nconst libraryBtnGroup = document.querySelector(\".button-group\");\n\nlibraryBtnGroup.addEventListener('click', onLibraryBtnsClick);\n\nfunction onLibraryBtnsClick (evt) {\n    if (evt.target.nodeName !== \"BUTTON\") {\n        return;\n    };\n\n    if (evt.target.classList.contains(\"library__watched-btn\")) {\n        libraryWatchedBtn.classList.add(\"is-active\");\n        libraryQueueBtn.classList.remove(\"is-active\");\n        return;\n      }\n    \n      if (evt.target.classList.contains(\"library__queue-btn\")) {\n        libraryWatchedBtn.classList.remove(\"is-active\");\n        libraryQueueBtn.classList.add(\"is-active\");\n        return;\n      }\n\n};\n\n\n\n\n"],"names":["parcelRequire","$bpxeT","$l5bVx","$13faa038844eaf17$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$3be06542bf11b963$var$filmsContainer","document","querySelector","$3be06542bf11b963$var$library","$3be06542bf11b963$var$watchedBtn","$3be06542bf11b963$var$newWatched","window","addEventListener","$3be06542bf11b963$var$renderWatched","$3be06542bf11b963$var$loadWatched","$3cGbf","load","e","loadWatched1","undefined","length","innerHTML","emptyLibraryImg","insertAdjacentHTML","$3be06542bf11b963$export$5ffc124bad5a611","films","normalObjs","map","film","genre","join","$4x3lN","default","IMG_URL","$3be06542bf11b963$var$_onClickCard","$2TvXO","mark","_callee","id2","allDetails","details","id1","allDetails1","details1","renderModal","param","id","img","title","popularity","vote","votes","about","modal1","$dyT35","create","concat","onShow","modal","escapeKeyCloseModal","clickForCloseModal","element","onclick","close","onClose","removeEventListener","event","code","classList","contains","target","value","show","preventDefault","nodeName","Number","parentElement","dataset","find","$j0bx3","addListener","$3be06542bf11b963$var$onRemoveWatchBtnClick","apply","this","arguments","index","push","forEach","i","splice","save","console","log","cardContainer","$cb63ce0d063e700d$var$queueBtn","$cb63ce0d063e700d$var$filmsContainer","$cb63ce0d063e700d$var$newQueue","$cb63ce0d063e700d$var$onQueueBtnClick","loadQueue","$cb63ce0d063e700d$var$_onClickCard","renderModalQueue","$cb63ce0d063e700d$var$onRemoveQueueBtnClick","$05760fc6f4ef9221$var$libraryWatchedBtn","$05760fc6f4ef9221$var$libraryQueueBtn","evt","add","remove"],"version":3,"file":"library.5e96024f.js.map"}