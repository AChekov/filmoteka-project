{"mappings":"oeAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,aAGA,MAAME,EAAa,IAAI,EAAAD,EAAAE,SACjBC,EAAsBC,SAASC,cAAc,wBAEnDC,OAAOC,iBAAiB,QAET,WACdN,EAAWO,eAAeC,MAAK,EAACC,QAAEA,OACjC,EAAAC,EAAAT,SAAkBQ,EAASP,SCV7BH,EAAAD,EAAA,S,aAAA,I,aAIA,MAAMa,EAAa,IAAI,EAAAZ,EAAAE,SAEjBW,EAAaT,SAASC,cAAc,kBACpCS,EAAsBV,SAASC,cAAc,wBAC7CU,EAAaX,SAASC,cAAc,iBAC1CW,QAAQC,IAAIF,GAEZF,EAAWN,iBAAiB,UAc5B,SAAkBW,GAMhB,GALAA,EAAEC,iBAEFP,EAAWQ,MAAQF,EAAEG,cAAcC,SAASC,YAAYC,MACxDZ,EAAWa,YAEqB,IAA5Bb,EAAWQ,MAAMM,OAMnB,OALAX,EAAWY,YACT,uEACFC,YAAW,KACTxB,SAASyB,SAASC,WACjB,KAGHf,EAAWY,YAAc,IACzBf,EAAWmB,qBAAqBtB,MAAK,EAACC,QAAEA,OACtC,EAAAsB,EAAA9B,YACA,EAAAS,EAAAT,SAAkBQ,EAASI,SCvCjC,MAAMmB,EAAO,CACXC,UAAW9B,SAASC,cAAc,qCAClC8B,WAAY/B,SAASC,cAAc,iCACnC+B,WAAYhC,SAASC,cAAc,eACnCgC,YAAajC,SAASC,cAAc,8BACpCiC,WAAYlC,SAASC,cAAc,8BAErC,IAAIkC,EAAa,EAoBjB,SAASC,IACP,IAAIC,EAAmBF,EAAa,EAChCG,EAAkBH,EAAa,EAC/BE,EAAmB,IACrBA,EAAmB,EACnBC,EAAkB,GAEpB,IAAK,IAAIC,EAAIF,EAAkBE,GAAKD,EAAiBC,GAAK,EACxD,GAAIA,IAAMJ,EAAY,CACpB,MAAMK,EAAa,4CAA4CD,kDAAkDA,aACjHV,EAAKG,WAAWS,mBAAmB,YAAaD,OAC3C,CACL,MAAMA,EAAa,4CAA4CD,2CAA2CA,aAC1GV,EAAKG,WAAWS,mBAAmB,YAAaD,GAIpD,GAAIH,GAAoB,EAAG,CACzB,GAAIK,IACF,OACK,CACL,MAAMT,EAAc,8FACdU,EAAY,gDAClBd,EAAKI,YAAYQ,mBAAmB,YAAaR,GACjDJ,EAAKI,YAAYQ,mBAAmB,YAAaE,IAGjDN,EAAmB,GAAKK,MAC1Bb,EAAKI,YAAYW,UAAY,IAkBjC,SAASC,IACPhB,EAAKG,WAAWY,UAAY,GAW9B,SAASF,IAEP,OAAoB,OADA1C,SAASC,cAAc,yBAM7CmC,IACAP,EAAKC,UAAU3B,iBAAiB,SAlChC,WACqB,IAAfgC,IAGJA,GAAc,EACdU,IACAT,QA6BFP,EAAKE,WAAW5B,iBAAiB,SA3BjC,WACEgC,GAAc,EACdU,IACAT,OAyBFP,EAAKG,WAAW7B,iBAAiB,SAlBjC,SAAuB2C,GACrBA,EAAM/B,iBACF+B,EAAMC,SAAWD,EAAM7B,gBAC3BkB,EAAaa,OAAOF,EAAMC,OAAOE,QAAQC,MACzCL,IACAT,Q","sources":["src/index.js","src/js/js-partials/loadPage.js","src/js/js-partials/onSearch.js","src/js/js-partials/pagination.js"],"sourcesContent":["import './js/js-partials/API';\nimport './js/js-partials/appendFilmsMarkup';\nimport './js/js-partials/clearFilmsContainer';\nimport './js/js-partials/loadPage';\nimport './js/js-partials/onSearch';\nimport './js/js-partials/pagination';\nimport './js/js-partials/fetchMoviesByPages';\nimport './js/js-partials/teamModal';\nimport './js/js-partials/onButtonClick';\nimport './js/js-partials/openModalFilm';\nimport './js/js-partials/loader';\n\n\n\n\n\n\n\n\n","import ApiService from './API';\nimport appendFilmsMarkup from './appendFilmsMarkup';\n\nconst apiService = new ApiService();\nconst filmsContainerIndex = document.querySelector('.js-films-list-index');\n\nwindow.addEventListener('load', loadPage);\n\nexport default function loadPage () {\n\tapiService.fetchPopular().then(({ results }) => {\n\t\tappendFilmsMarkup(results, filmsContainerIndex);\n\t});\n}","import ApiService from \"./API\";\nimport appendFilmsMarkup from \"./appendFilmsMarkup\";\nimport clearFilmsContainer from \"./clearFilmsContainer\";\n\nconst apiService = new ApiService();\n\nconst searchForm = document.querySelector(\".input__wraper\");\nconst filmsContainerIndex = document.querySelector(\".js-films-list-index\");\nconst inputError = document.querySelector(\".input__error\");\nconsole.log(inputError);\n\nsearchForm.addEventListener(\"submit\", onSearch);\n\n// function onSearch(e) {\n//   e.preventDefault();\n\n//   apiService.query = e.currentTarget.elements.searchQuery.value;\n//   apiService.resetPage();\n\n//   apiService.fetchMoviesySearch().then(({ results }) => {\n//     clearFilmsContainer();\n//     appendFilmsMarkup(results, filmsContainerIndex);\n//   });\n// }\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  apiService.query = e.currentTarget.elements.searchQuery.value;\n  apiService.resetPage();\n\n  if (apiService.query.length === 0) {\n    inputError.textContent =\n      \"Search result not successful. Enter the correct movie name and \";\n    setTimeout(() => {\n      document.location.reload();\n    }, 2000);\n    return;\n  } else {\n    inputError.textContent = \" \";\n    apiService.fetchMoviesySearch().then(({ results }) => {\n      clearFilmsContainer();\n      appendFilmsMarkup(results, filmsContainerIndex);\n    });\n  }\n}\n","// fetch(\n//   `https://api.themoviedb.org/3/movie/550?api_key=7cb8097836a7a1f4e5c19953961668c8`\n// ).then(response => response.json());\nconst refs = {\n  arrowLeft: document.querySelector(\"button[aria-label='previous-page'\"),\n  arrowRight: document.querySelector(\"button[aria-label='next-page'\"),\n  pagination: document.querySelector(\".pagination\"),\n  firstButton: document.querySelector(\".firstButton-and-threeDots\"),\n  lastButton: document.querySelector(\".lastButton-and-threeDots\"),\n};\nlet pageNumber = 1;\n// const pageButtons = document.querySelector(\"button[aria-label='next-page'\");\n// function getNumberOfPages(data) {\n//   const numberOfPages = data.totalPages;\n//   return numberOfPages;\n// }\n// function handleClickPage(event) {\n//   if (event.target === event.currentTarget) return;\n//   const { page } = event.target.dataset;\n//   const currentPage = page;\n// }\n// function renderButtons(numberOfPages) {\n//   pageButtons.innerHTML = \"\";\n// }\n\n// const buttonPoints = document.querySelectorAll(\".hidden-in-mobile\");\n// buttonPoints.forEach(button => {\n//   button.classList.add(\"visually-hidden\");\n// });\n\nfunction renderButtons() {\n  let beforeActivePage = pageNumber - 2;\n  let afterActivePage = pageNumber + 2;\n  if (beforeActivePage < 3) {\n    beforeActivePage = 1;\n    afterActivePage = 5;\n  }\n  for (let i = beforeActivePage; i <= afterActivePage; i += 1) {\n    if (i === pageNumber) {\n      const pageButton = `<button id=\"paginationButton\" data-page=\"${i}\" class=\"button-page paginationButton active\">${i}</button>`;\n      refs.pagination.insertAdjacentHTML(\"beforeend\", pageButton);\n    } else {\n      const pageButton = `<button id=\"paginationButton\" data-page=\"${i}\" class=\"button-page paginationButton\">${i}</button>`;\n      refs.pagination.insertAdjacentHTML(\"beforeend\", pageButton);\n    }\n  }\n\n  if (beforeActivePage >= 3) {\n    if (isThreeDots()) {\n      return;\n    } else {\n      const firstButton = `<button id=\"paginationButton\" data-page=\"1\" class=\"button-page paginationButton\">1</button>`;\n      const threeDots = `<span class='page-buttons__points'>···</span>`;\n      refs.firstButton.insertAdjacentHTML(\"beforeend\", firstButton);\n      refs.firstButton.insertAdjacentHTML(\"beforeend\", threeDots);\n    }\n  }\n  if (beforeActivePage < 3 && isThreeDots()) {\n    refs.firstButton.innerHTML = \"\";\n  }\n}\n\nfunction onClickArrowLeft() {\n  if (pageNumber === 1) {\n    return;\n  }\n  pageNumber -= 1;\n  resetButtons();\n  renderButtons();\n}\nfunction onClickArrowRight() {\n  pageNumber += 1;\n  resetButtons();\n  renderButtons();\n}\n\nfunction resetButtons() {\n  refs.pagination.innerHTML = \"\";\n}\n\nfunction onClickButton(event) {\n  event.preventDefault();\n  if (event.target === event.currentTarget) return;\n  pageNumber = Number(event.target.dataset.page);\n  resetButtons();\n  renderButtons();\n}\n\nfunction isThreeDots() {\n  const isThreeDots = document.querySelector(\".page-buttons__points\");\n  if (isThreeDots === null) {\n    return false;\n  }\n  return true;\n}\nrenderButtons();\nrefs.arrowLeft.addEventListener(\"click\", onClickArrowLeft);\nrefs.arrowRight.addEventListener(\"click\", onClickArrowRight);\nrefs.pagination.addEventListener(\"click\", onClickButton);\n"],"names":["parcelRequire","$72Z32","$1568500cd937aa28$var$apiService","default","$1568500cd937aa28$var$filmsContainerIndex","document","querySelector","window","addEventListener","fetchPopular","then","results","$iZRpi","$533396e39deb84e7$var$apiService","$533396e39deb84e7$var$searchForm","$533396e39deb84e7$var$filmsContainerIndex","$533396e39deb84e7$var$inputError","console","log","e","preventDefault","query","currentTarget","elements","searchQuery","value","resetPage","length","textContent","setTimeout","location","reload","fetchMoviesySearch","$fMtCK","$6e1958cdf4558d68$var$refs","arrowLeft","arrowRight","pagination","firstButton","lastButton","$6e1958cdf4558d68$var$pageNumber","$6e1958cdf4558d68$var$renderButtons","beforeActivePage","afterActivePage","i","pageButton","insertAdjacentHTML","$6e1958cdf4558d68$var$isThreeDots","threeDots","innerHTML","$6e1958cdf4558d68$var$resetButtons","event","target","Number","dataset","page"],"version":3,"file":"index.62d10676.js.map"}