!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequire37c5;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire37c5=o),o("l7OcW"),o("kXDXL"),o("dDwfd");var a,r=o("l7OcW"),u=o("kXDXL"),i=(u=o("kXDXL"),o("dDwfd")),c=new(0,(r=o("l7OcW")).default),l={arrowLeft:document.querySelector("button[aria-label='previous-page'"),arrowRight:document.querySelector("button[aria-label='next-page'"),pagination:document.querySelector(".pagination"),firstButton:document.querySelector(".firstButton-and-threeDots"),lastButton:document.querySelector(".lastButton-and-threeDots"),filmsContainerIndex:document.querySelector(".js-films-list-index"),inputError:document.querySelector(".input__error")},s=1;function f(t,e){if(!(s>a)){var n,o,r=(s=t)-2,u=s+2;s!==(a=e)&&s+1!==a||(r=s-3,u=a),r<3&&(r=1,u=5),a<=5&&(r=s,u=a);for(var i=r;i<=u;i+=1)if(i===s){var c='<button id="paginationButton" data-page="'.concat(i,'" class="button-page paginationButton active">').concat(i,"</button>");l.pagination.insertAdjacentHTML("beforeend",c)}else{var f='<button id="paginationButton" data-page="'.concat(i,'" class="button-page paginationButton">').concat(i,"</button>");l.pagination.insertAdjacentHTML("beforeend",f)}if(r>=3){if(h())return;n='<button id="paginationButton" data-page="1" class="button-page paginationButton">1</button>',o="<span class='page-buttons__first-points'>···</span>",l.firstButton.insertAdjacentHTML("beforeend",n),l.firstButton.insertAdjacentHTML("beforeend",o)}r<3&&h()&&(l.firstButton.innerHTML=""),s!==a&&s+1!==a&&s+2!==a&&s+3!==a?null===document.querySelector(".page-buttons__last-points")&&(!function(t){var e='<button id="paginationButton" data-page="'.concat(t,'" class="button-page paginationButton">').concat(t,"</button>"),n="<span class='page-buttons__last-points'>···</span>";l.lastButton.insertAdjacentHTML("beforeend",n),l.lastButton.insertAdjacentHTML("beforeend",e)}(a),l.arrowLeft.onclick=g,l.arrowRight.onclick=b,l.pagination.onclick=v,l.firstButton.onclick=d,l.lastButton.onclick=p):l.lastButton.innerHTML=""}}function d(t){"BUTTON"===t.target.nodeName&&(s=1,B())}function p(t){"BUTTON"===t.target.nodeName&&(s=a,B())}function g(){1!==s&&(s-=1,B())}function b(){s!==a&&(s+=1,B())}function m(){l.pagination.innerHTML="",l.firstButton.innerHTML="",l.lastButton.innerHTML=""}function v(t){t.preventDefault(),t.target!==t.currentTarget&&(s=Number(t.target.dataset.page),B())}function h(){return null!==document.querySelector(".page-buttons__first-points")}function y(t,e){c.query=t,c.page=e,c.fetchMoviesySearch().then((function(t){var e=t.results,n=t.total_pages;0!==e.length?((0,i.default)(),(0,u.default)(e,l.filmsContainerIndex),m(),f(c.page,n)):l.inputError.textContent="Search result not successful. Enter the correct movie name and smile : )"}))}function B(){if(""===c.query)return c.page=s,c.fetchPopular().then((function(t){var e=t.results,n=t.total_pages;(0,i.default)(),(0,u.default)(e,l.filmsContainerIndex),m(),f(c.page,n)})),void w();y(c.query,s),w()}function w(){window.scrollTo(pageXOffset,0)}var T=new(0,r.default),q=document.querySelector(".js-films-list-index");window.addEventListener("load",(function(){T.fetchPopular().then((function(t){var e=t.results,n=t.total_pages;(0,u.default)(e,q),f(T.page,n)}))}));r=o("l7OcW"),u=o("kXDXL"),i=o("dDwfd");var L=new(0,r.default),_=document.querySelector(".input__wraper"),S=document.querySelector(".input__error"),M=document.querySelector(".js-films-list-index");_.addEventListener("submit",(function(t){t.preventDefault(),L.query=t.currentTarget.searchQuery.value,L.resetPage(),S.textContent=" ",y(L.query,L.page),L.fetchMoviesySearch().then((function(t){var e=t.results;t.total_pages;0!==e.length?((0,i.default)(),(0,u.default)(e,M)):S.textContent="Search result not successful. Enter the correct movie name and smile : )"})).catch((function(t){return console.log(t)}))})),o("7MDoz"),o("3cGbf"),o("296C4"),o("ak33M")}();
//# sourceMappingURL=index.01bfebed.js.map
