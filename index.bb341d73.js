function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=e.parcelRequire37c5;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){o[t]=e},e.parcelRequire37c5=r),r("72Z32"),r("iZRpi"),r("fMtCK");var i=r("72Z32"),a=r("iZRpi"),u=(a=r("iZRpi"),r("fMtCK"));const c=new(0,(i=r("72Z32")).default),f={arrowLeft:document.querySelector("button[aria-label='previous-page'"),arrowRight:document.querySelector("button[aria-label='next-page'"),pagination:document.querySelector(".pagination"),firstButton:document.querySelector(".firstButton-and-threeDots"),lastButton:document.querySelector(".lastButton-and-threeDots"),filmsContainerIndex:document.querySelector(".js-films-list-index"),inputError:document.querySelector(".input__error")};let s,l=1;function p(t,e){if(l>s)return;l=t,s=e;let n=l-2,o=l+2;l!==s&&l+1!==s||(n=l-3,o=s),n<3&&(n=1,o=5),s<=5&&(n=l,o=s);for(let t=n;t<=o;t+=1)if(t===l){const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton active">${t}</button>`;f.pagination.insertAdjacentHTML("beforeend",e)}else{const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton">${t}</button>`;f.pagination.insertAdjacentHTML("beforeend",e)}if(n>=3){if(T())return;!function(){const t='<button id="paginationButton" data-page="1" class="button-page paginationButton">1</button>',e="<span class='page-buttons__first-points'>···</span>";f.firstButton.insertAdjacentHTML("beforeend",t),f.firstButton.insertAdjacentHTML("beforeend",e)}()}n<3&&T()&&(f.firstButton.innerHTML=""),l!==s&&l+1!==s&&l+2!==s&&l+3!==s?null===document.querySelector(".page-buttons__last-points")&&(!function(t){const e=`<button id="paginationButton" data-page="${t}" class="button-page paginationButton">${t}</button>`,n="<span class='page-buttons__last-points'>···</span>";f.lastButton.insertAdjacentHTML("beforeend",n),f.lastButton.insertAdjacentHTML("beforeend",e)}(s),f.arrowLeft.onclick=b,f.arrowRight.onclick=m,f.pagination.onclick=y,f.firstButton.onclick=d,f.lastButton.onclick=g):f.lastButton.innerHTML=""}function d(t){"BUTTON"===t.target.nodeName&&(l=1,B())}function g(t){"BUTTON"===t.target.nodeName&&(l=s,B())}function b(){1!==l&&(l-=1,B())}function m(){l!==s&&(l+=1,B())}function v(){f.pagination.innerHTML="",f.firstButton.innerHTML="",f.lastButton.innerHTML=""}function y(t){t.preventDefault(),t.target!==t.currentTarget&&(l=Number(t.target.dataset.page),B())}function T(){return null!==document.querySelector(".page-buttons__first-points")}function h(t,e){c.query=t,c.page=e,c.fetchMoviesySearch().then((({results:t,total_pages:e})=>{0!==t.length?((0,u.default)(),(0,a.default)(t,f.filmsContainerIndex),v(),p(c.page,e)):f.inputError.textContent="Search result not successful. Enter the correct movie name and smile : )"}))}function B(){if(""===c.query)return c.page=l,c.fetchPopular().then((({results:t,total_pages:e})=>{(0,u.default)(),(0,a.default)(t,f.filmsContainerIndex),v(),p(c.page,e)})),void w();h(c.query,l),w()}function w(){window.scrollTo(pageXOffset,0)}const _=new(0,i.default),j=document.querySelector(".js-films-list-index");window.addEventListener("load",(function(){_.fetchPopular().then((({results:t,total_pages:e})=>{(0,a.default)(t,j),p(_.page,e)}))}));var q,x=/^\s+|\s+$/g,M=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,S=/^0o[0-7]+$/i,O=parseInt,H="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,$=H||N||Function("return this")(),C=Object.prototype.toString,E=Math.max,Z=Math.min,D=function(){return $.Date.now()};function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function A(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==C.call(t)}(t))return NaN;if(R(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=R(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(x,"");var n=L.test(t);return n||S.test(t)?O(t.slice(2),n?2:8):M.test(t)?NaN:+t}q=function(t,e,n){var o,r,i,a,u,c,f=0,s=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=o,i=r;return o=r=void 0,f=e,a=t.apply(i,n)}function g(t){return f=t,u=setTimeout(m,e),s?d(t):a}function b(t){var n=t-c;return void 0===c||n>=e||n<0||l&&t-f>=i}function m(){var t=D();if(b(t))return v(t);u=setTimeout(m,function(t){var n=e-(t-c);return l?Z(n,i-(t-f)):n}(t))}function v(t){return u=void 0,p&&o?d(t):(o=r=void 0,a)}function y(){var t=D(),n=b(t);if(o=arguments,r=this,c=t,n){if(void 0===u)return g(c);if(l)return u=setTimeout(m,e),d(c)}return void 0===u&&(u=setTimeout(m,e)),a}return e=A(e)||0,R(n)&&(s=!!n.leading,i=(l="maxWait"in n)?E(A(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==u&&clearTimeout(u),f=0,o=c=r=u=void 0},y.flush=function(){return void 0===u?a:v(D())},y};i=r("72Z32");r("iZRpi"),r("fMtCK");const k=new(0,i.default),I=document.querySelector(".input__wraper"),K=document.querySelector(".input__error");I.addEventListener("input",t(q)((function(t){t.preventDefault(),k.query=t.target.value.trim(),k.resetPage(),K.textContent=" ",h(k.query,k.page)}),300)),r("jxohN"),r("iZDtr"),r("2VTKf"),r("iiPHV");
//# sourceMappingURL=index.bb341d73.js.map
